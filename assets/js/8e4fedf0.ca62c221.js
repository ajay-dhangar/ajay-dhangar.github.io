"use strict";(self.webpackChunkcode_harbor_hub=self.webpackChunkcode_harbor_hub||[]).push([[27037],{45774:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>h});var t=i(83440),r=i(74848),s=i(28453);const a={title:"Fixing Git Clone Error: RPC Failed, HTTP/2 Stream Cancelled",authors:["ajay-dhangar"],tags:["Git","GitHub","Errors","Cloning Repositories","Fixes"],date:new Date("2025-09-04T10:00:00.000Z"),description:"How to fix the 'RPC failed; curl 92 HTTP/2 stream 0 was not closed cleanly: CANCEL (err 8)' error when cloning large Git repositories.",draft:!1},o=void 0,l={authorsImageUrls:[void 0]},h=[{value:"Introduction",id:"introduction",level:2},{value:"Why This Error Happens",id:"why-this-error-happens",level:2},{value:"Solutions That Worked",id:"solutions-that-worked",level:2},{value:"1. Increase Git Buffer Size",id:"1-increase-git-buffer-size",level:3},{value:"2. Use a Shallow Clone (Fastest Fix)",id:"2-use-a-shallow-clone-fastest-fix",level:3},{value:"3. Clone Only One Branch",id:"3-clone-only-one-branch",level:3},{value:"4. Switch to SSH",id:"4-switch-to-ssh",level:3},{value:"5. Sparse Checkout (Download Only What You Need)",id:"5-sparse-checkout-download-only-what-you-need",level:3},{value:"6. Use Git LFS for Large Files",id:"6-use-git-lfs-for-large-files",level:3},{value:"Final Takeaway",id:"final-takeaway",level:2}];function c(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["In this post, I\u2019ll show you how to fix the frustrating ",(0,r.jsx)(n.code,{children:"RPC failed; curl 92 HTTP/2 stream 0 was not closed cleanly: CANCEL (err 8)"})," error that can occur when cloning large Git repositories. If you've encountered this error, you're not alone! Let's dive into the causes and solutions."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Git Clone Error",src:i(87677).A+"",width:"1536",height:"1024"})}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(n.p,{children:["The other day, I was trying to clone my GitHub repository, but I ran into a frustrating error.",(0,r.jsx)(n.br,{}),"\n","If you\u2019ve ever seen something like this, you know how annoying it feels:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"error: RPC failed; curl 92 HTTP/2 stream 0 was not closed cleanly: CANCEL (err 8)\nerror: 3547 bytes of body are still expected\nfetch-pack: unexpected disconnect while reading sideband packet\nfatal: early EOF\nfatal: fetch-pack: invalid index-pack output\n"})}),"\n",(0,r.jsxs)(n.p,{children:["At first, I thought something was wrong with my Git setup. But after digging in, I realized the problem was with ",(0,r.jsx)(n.strong,{children:"large repository size, network limits, and Git\u2019s default settings"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["In this blog, I\u2019ll break down ",(0,r.jsx)(n.strong,{children:"why this happens"})," and the ",(0,r.jsx)(n.strong,{children:"step-by-step solutions"})," I tried to fix it."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"why-this-error-happens",children:"Why This Error Happens"}),"\n",(0,r.jsx)(n.p,{children:"This error usually shows up when:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Your repository is ",(0,r.jsx)(n.strong,{children:"very large"})," (hundreds of MBs or more)."]}),"\n",(0,r.jsxs)(n.li,{children:["Git\u2019s default ",(0,r.jsx)(n.strong,{children:"HTTP buffer size is too small"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["The repo has ",(0,r.jsx)(n.strong,{children:"too many objects (commits, files, branches, blobs)"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Network interruptions cause Git to cancel the fetch."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Basically, Git starts downloading your repo, but before finishing, the connection breaks \u2014 and Git doesn\u2019t know what to do with the incomplete data."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"solutions-that-worked",children:"Solutions That Worked"}),"\n",(0,r.jsx)(n.p,{children:"Here are the methods I tried to fix it:"}),"\n",(0,r.jsx)(n.h3,{id:"1-increase-git-buffer-size",children:"1. Increase Git Buffer Size"}),"\n",(0,r.jsx)(n.p,{children:"Git\u2019s default HTTP buffer is small. Let\u2019s make it bigger:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git config --global http.postBuffer 524288000\ngit config --global http.maxRequests 100\ngit config --global http.version HTTP/1.1\n"})}),"\n",(0,r.jsx)(n.p,{children:"This allows Git to handle bigger repositories without choking."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"2-use-a-shallow-clone-fastest-fix",children:"2. Use a Shallow Clone (Fastest Fix)"}),"\n",(0,r.jsx)(n.p,{children:"If you only need the latest commit (not the full history):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone --depth=1 https://github.com/ajay-dhangar/ajay-dhangar.github.io.git\n"})}),"\n",(0,r.jsx)(n.p,{children:"\ud83d\udc49 This grabs the newest version quickly.\nIf you later need full history:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd ajay-dhangar.github.io\ngit fetch --unshallow\n"})}),"\n",(0,r.jsx)(n.p,{children:"This way, you start small and expand as needed."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"3-clone-only-one-branch",children:"3. Clone Only One Branch"}),"\n",(0,r.jsxs)(n.p,{children:["If the repo has multiple branches, but you just want ",(0,r.jsx)(n.code,{children:"main"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone --single-branch --branch main https://github.com/ajay-dhangar/ajay-dhangar.github.io.git\n"})}),"\n",(0,r.jsx)(n.p,{children:"This avoids fetching unnecessary data."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"4-switch-to-ssh",children:"4. Switch to SSH"}),"\n",(0,r.jsx)(n.p,{children:"Sometimes HTTPS causes issues. If you have SSH keys set up:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone git@github.com:ajay-dhangar/ajay-dhangar.github.io.git\n"})}),"\n",(0,r.jsx)(n.p,{children:"This is often more reliable for big repos."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"5-sparse-checkout-download-only-what-you-need",children:"5. Sparse Checkout (Download Only What You Need)"}),"\n",(0,r.jsx)(n.p,{children:"If you don\u2019t need the whole repo, just a folder:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone --filter=blob:none https://github.com/ajay-dhangar/ajay-dhangar.github.io.git\ncd ajay-dhangar.github.io\ngit sparse-checkout init --cone\ngit sparse-checkout set <folder-you-need>\n"})}),"\n",(0,r.jsx)(n.p,{children:"This keeps your local clone lightweight."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"6-use-git-lfs-for-large-files",children:"6. Use Git LFS for Large Files"}),"\n",(0,r.jsxs)(n.p,{children:["If your repo has big media files, install ",(0,r.jsx)(n.a,{href:"https://git-lfs.com/",children:"Git LFS"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git lfs install\ngit lfs clone https://github.com/ajay-dhangar/ajay-dhangar.github.io.git\n"})}),"\n",(0,r.jsx)(n.p,{children:"This prevents huge files from breaking your clone process."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"final-takeaway",children:"Final Takeaway"}),"\n",(0,r.jsxs)(n.p,{children:["If you\u2019re facing the ",(0,r.jsx)(n.code,{children:"RPC failed; curl 92 HTTP/2"})," error:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Start with ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"--depth=1"})})," (quickest fix)."]}),"\n",(0,r.jsx)(n.li,{children:"If you need full history, increase the buffer size."}),"\n",(0,r.jsxs)(n.li,{children:["For big repos with assets, use ",(0,r.jsx)(n.strong,{children:"Git LFS or sparse checkout"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"These tricks saved me hours of frustration, and I hope they help you too."})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},87677:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/git-clone-error-275c6393aae765e6043ec661cfa1d9ef.png"},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var t=i(96540);const r={},s=t.createContext(r);function a(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(s.Provider,{value:n},e.children)}},83440:e=>{e.exports=JSON.parse('{"permalink":"/blog/2025/09/04/fix-git-clone-rpc-failed-error","editUrl":"https://github.com/Ajay-Dhangar/ajay-dhangar.github.io/edit/main/blog/2025-09-04/fix-git-clone-rpc-failed-error.mdx","source":"@site/blog/2025-09-04/fix-git-clone-rpc-failed-error.mdx","title":"Fixing Git Clone Error: RPC Failed, HTTP/2 Stream Cancelled","description":"How to fix the \'RPC failed; curl 92 HTTP/2 stream 0 was not closed cleanly: CANCEL (err 8)\' error when cloning large Git repositories.","date":"2025-09-04T10:00:00.000Z","tags":[{"inline":true,"label":"Git","permalink":"/blog/tags/git"},{"inline":true,"label":"GitHub","permalink":"/blog/tags/git-hub"},{"inline":true,"label":"Errors","permalink":"/blog/tags/errors"},{"inline":true,"label":"Cloning Repositories","permalink":"/blog/tags/cloning-repositories"},{"inline":true,"label":"Fixes","permalink":"/blog/tags/fixes"}],"readingTime":2.795,"hasTruncateMarker":true,"authors":[{"name":"Ajay Dhangar","url":"https://github.com/ajay-dhangar","imageURL":"https://avatars.githubusercontent.com/u/99037494?v=4","key":"ajay-dhangar","page":null}],"frontMatter":{"title":"Fixing Git Clone Error: RPC Failed, HTTP/2 Stream Cancelled","authors":["ajay-dhangar"],"tags":["Git","GitHub","Errors","Cloning Repositories","Fixes"],"date":"2025-09-04T10:00:00.000Z","description":"How to fix the \'RPC failed; curl 92 HTTP/2 stream 0 was not closed cleanly: CANCEL (err 8)\' error when cloning large Git repositories.","draft":false},"unlisted":false,"nextItem":{"title":"Getting Started with React and Vite","permalink":"/blog/getting-started-with-vite"}}')}}]);